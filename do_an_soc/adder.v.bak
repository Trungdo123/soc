module adder(
	input clk,
	input [3:0] control,
	input [31:0]a,
	input [31:0]b,
	input [31:0]c,
	input [31:0]d,
	output reg [1:0] status,
	output reg [31:0] ketqua
);


always@(posedge clk, negedge control[2])
	begin
		if(~control[2])
			begin 
			ketqua<= 32'h0;
			status<= 2'h0;
			end
		else 
			begin
				if (control[3])
					begin
						if(control[1:0]==3'b00)
							begin
							status <= 2'b10;
							ketqua <= a[31:28]*b[31:28]+c[31:28]*d[31:28];
							status <= 2'b11;
							end
						else if (control[2:0]==3'b01)
								begin
								status <= 2'b10;
								ketqua <= a[31:24]*b[31:24]+c[31:24]*d[31:24];
								status <= 2'b11;
								end
								else if (control[2:0]==3'b11)
										begin
										status <= 2'b10;
										ketqua <= a[31:16]*b[31:16]+c[31:16]*d[31:16];
										status <= 2'b11;
										end
										
					
					end
				else
					begin
					status <= 2'b00;
					ketqua <= 32'h0;
					end
					end
					end
					
					
endmodule